(function(t,e){if(typeof define==="function"&&define.amd){define([],e)}else if(typeof exports==="object"){module.exports=e()}else{t.Dragify=e()}})(this,function(){var t=function(){this.events={}};t.prototype={construct:t,on:function(t,e){this._getEventInfo(t).push(e);return this},trigger:function(t){var e=this._getEventInfo(t);var n=Array.prototype.slice.call(arguments,1);e.forEach(function(t){t.apply(t,n)});return this},_getEventInfo:function(t){if(!this.events[t])this.events[t]=[];return this.events[t]},remove:function(t,e){var n=this._getEventInfo(t);if(!e){this.events[t]=[]}else{n.splice(n.indexOf(e),1)}return this}};function e(e){this.$elem=e;this.watcher=new t;this.init()}e.prototype={constructor:e,init:function(){var t=this;t.$elem.addEventListener(n[0],function(e){var o=t._getEventInfo(e);var i=o.clientX-t.$elem.offsetLeft;var r=o.clientY-t.$elem.offsetTop;t.watcher.trigger("start",e);document.addEventListener(n[1],s);function s(e){var n=t._getEventInfo(e);t.$elem.style.position="absolute";t.$elem.style.left=n.clientX-i+"px";t.$elem.style.top=n.clientY-r+"px";$info.style.display="block";t.watcher.trigger("move",e)}document.addEventListener(n[2],c);function c(e){document.removeEventListener(n[1],s);document.removeEventListener(n[2],c);t.watcher.trigger("end",e)}})},on:function(){this.watcher.on.apply(this.watcher,arguments);return this.watcher},_getEventInfo:function(t){return e.isTouch()?t.targetTouches[0]:t}};e.isTouch=function(t){return"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0};var n=e.isTouch()?["touchstart","touchmove","touchend"]:["mousedown","mousemove","mouseup"];return e});